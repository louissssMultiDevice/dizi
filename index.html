</body>
</html>
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DIZI Music Official - Terima Kasih (Canggih)</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;800&display=swap');
    :root {
      --color-primary: #3c0c7a;
      --color-secondary: #6a1a7a;
      --color-accent: #00bcd4;
      --color-text-light: #f0f0f0;
      --shadow-3d: 0 10px 20px rgba(0, 0, 0, 0.5), inset 0 0 10px rgba(255, 255, 255, 0.1);
    }

    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
      color: var(--color-text-light);
      overflow: hidden;
      perspective: 1000px;
    }

    .container {
      background: rgba(40, 0, 80, 0.8);
      padding: 40px;
      border-radius: 20px;
      box-shadow: var(--shadow-3d);
      text-align: center;
      max-width: 90%;
      width: 400px;
      position: relative;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      transition: transform 0.5s ease-out;
    }

    .logo {
      font-size: 4em;
      font-weight: 800;
      margin: 0 0 5px 0;
      letter-spacing: 5px;
      color: #ffd700; 
      text-shadow: 
        0 1px 0 #ccc, 0 2px 0 #bbb, 0 4px 0 #aaa, 0 6px 1px rgba(0,0,0,.1),
        0 0 5px rgba(0,0,0,.1), 0 3px 5px rgba(0,0,0,.2), 0 10px 10px rgba(0,0,0,.2),
        0 20px 20px rgba(0,0,0,.15);
    }

    .subtitle {
      font-size: 1.1em;
      font-weight: 300;
      margin-bottom: 25px;
      color: var(--color-accent);
      text-shadow: 0 0 5px rgba(0, 188, 212, 0.8);
    }

    #visualizer {
      width: 100%;
      height: 150px;
      border-radius: 10px;
      background: rgba(0, 0, 0, 0.6);
      margin-bottom: 30px;
      box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.5), 0 0 15px var(--color-accent);
      border: 2px solid var(--color-accent);
    }

    .controls {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 30px;
    }

    .btn {
      background: var(--color-secondary);
      color: var(--color-text-light);
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      cursor: pointer;
      transition: all 0.2s ease-in-out;
      display: flex; /* Untuk menengahkan ikon SVG */
      justify-content: center;
      align-items: center;
      box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.5), -5px -5px 15px rgba(255, 255, 255, 0.1); 
    }

    .btn svg {
      fill: var(--color-text-light);
      width: 28px;
      height: 28px;
      transition: fill 0.2s ease-in-out;
    }

    .btn:hover {
      background: var(--color-accent);
    }

    .btn:hover svg {
      fill: #333; /* Warna ikon berubah saat hover */
    }

    /* --- Tombol Play/Pause Realistis dan Animasi --- */
    .btn.play {
      width: 70px;
      height: 70px;
      background: linear-gradient(145deg, #00e5ff, var(--color-accent)); 
      box-shadow: 8px 8px 20px rgba(0, 0, 0, 0.6), -8px -8px 20px rgba(255, 255, 255, 0.15), 0 0 25px var(--color-accent); 
    }
    
    .btn.play svg {
        fill: #333; /* Ikon Play/Pause selalu gelap untuk kontras */
    }

    .btn.play.active {
      box-shadow: inset 5px 5px 10px rgba(0, 0, 0, 0.7), inset -5px -5px 10px rgba(255, 255, 255, 0.15), 0 0 10px var(--color-accent);
      transform: scale(0.98); 
    }

    .btn.play:hover {
      transform: scale(1.1);
      box-shadow: 8px 8px 25px rgba(0, 0, 0, 0.7), -8px -8px 25px rgba(255, 255, 255, 0.2), 0 0 35px #00e5ff; 
    }
    
    .lyrics-box {
      background: rgba(0, 0, 0, 0.7);
      color: var(--color-accent);
      padding: 15px 20px;
      border-radius: 10px;
      font-size: 1.2em;
      font-weight: 600;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-shadow: 0 0 8px rgba(0, 188, 212, 0.8);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5), inset 0 0 5px rgba(255, 255, 255, 0.1);
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="logo">DIZI</h1>
    <p class="subtitle">Grub Musik Official – “Terima Kasih”</p>

    <canvas id="visualizer" width="400" height="150"></canvas>

    <audio id="audio" src="./public/Terimakasih.mp3" preload="auto"></audio>

    <div class="controls">
      <button id="prev" class="btn" aria-label="Previous Track">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7 6L7 18M17 12L9 18L9 6L17 12Z"/>
          </svg>
      </button>
      
      <button id="play" class="btn play" aria-label="Play/Pause">
          <svg id="play-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M6 18V6L18 12L6 18Z"/>
          </svg>
      </button>
      
      <button id="next" class="btn" aria-label="Next Track">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M17 18L17 6M7 12L15 6L15 18L7 12Z"/>
          </svg>
      </button>
    </div>

    <div id="lyricsBox" class="lyrics-box" aria-live="polite">
        “Siap dimainkan...”
    </div>
  </div>

<script type="module">
  window.AudioContext = window.AudioContext || window.webkitAudioContext;
  
  const audio = document.getElementById("audio");
  const playBtn = document.getElementById("play");
  const playIcon = document.getElementById("play-icon"); // Referensi SVG ikon
  const canvas = document.getElementById("visualizer");
  const ctx = canvas.getContext("2d");
  
  canvas.width = canvas.offsetWidth;
  canvas.height = canvas.offsetHeight;

  const audioCtx = new AudioContext();
  const src = audioCtx.createMediaElementSource(audio);
  const analyser = audioCtx.createAnalyser();
  
  analyser.fftSize = 256;
  src.connect(analyser);
  analyser.connect(audioCtx.destination);
  
  const bufferLength = analyser.frequencyBinCount;
  const dataArray = new Uint8Array(bufferLength);

  // FUNGSI VISUALIZER DENGAN REAKSI LEBIH LIAR/DINAMIS
  function draw() {
    requestAnimationFrame(draw);
    analyser.getByteFrequencyData(dataArray);
    
    ctx.fillStyle = "rgba(40, 0, 80, 0.4)"; 
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    
    const barWidth = (canvas.width / bufferLength) * 1.5;
    let x = 0;
    
    for (let i = 0; i < bufferLength; i++) {
      const barHeight = dataArray[i] * 2.5; 
      
      const hue = 260 + i * 1.2;
      ctx.fillStyle = `hsl(${hue}, 100%, 60%)`;
      
      ctx.fillRect(x, canvas.height - barHeight, barWidth, barHeight);
      x += barWidth + 2; 
    }
  }

  // DATA LIRIK DENGAN DURASI YANG DISESUAIKAN SECARA MANUAL PER BARIS
  const lyrics = [
    { text: "Sumpah, aku ingin bertemu kamu", duration: 4000 }, 
    { text: "Ku ingin engkau ada di sampingku", duration: 3800 },
    { text: "Ku ingin engkau tahu betapa rindunya hati kecilku", duration: 5000 },
    { text: "Ku ingin engkau ada di setiap hari-hariku", duration: 4500 },
    { text: "Kenapa? Mengapa? Oh kenapa? Mengapa begini?", duration: 3500 },
    { text: "Perasaan rindu ini selalu menghampiri, uo-oo", duration: 4500 },
    { text: "Selalu aku yang ada saat kau bercerita", duration: 4000 },
    { text: "Mengapa kini kau pergi begitu saja? uoo-oooo", duration: 4700 },
    { text: "Kenapa dia lagi dia lagi dia lagi yang aku cari?", duration: 4000 },
    { text: "Kenapa dia lagi dia lagi yang aku cintai?", duration: 3800 },
    { text: "Ku ingin bersamamu hingga nanti kita tua bersama", duration: 5000 },
    { text: "Ku ingin kita bersama hingga selama-lamanya", duration: 4000 },
    { text: "Semua indah pada waktunya", duration: 3000 },
    { text: "Pada akhirnya Semua hanya angan-angan ku sajaaa", duration: 4500 },
    { text: "kita takkan pernah bersama, uo-oo", duration: 4000 },
    { text: "Sayangnya semua tak berjalan, sedangkan bertahan bukan satu pilihan", duration: 6000 },
    { text: "Sayangnya mengapa kita berjumpa", duration: 3500 },
    { text: "Padahal kita tak kan ke tujuan yang sama", duration: 4500 },
    { text: "Pantaskah aku menyimpan rasa rindu yang begitu dalam?", duration: 5500 },
    { text: "Lantas mengapa ku masih menunggumu hingga matahari tenggelam?", duration: 5000 },
    { text: "Simpanlah kau dalam mimpi indahku", duration: 3500 },
    { text: "Sebab kau tak datang dalam hidupku", duration: 3800 },
    { text: "Lewatkah aku di sela pikiranmu?", duration: 3500 },
    { text: "Aku rindu, sangat rindu, tapi tak bisa bertemu", duration: 4500 },
    { text: "Terima kasih atas segala rasa", duration: 4000 },
    { text: "Pada masa itu aku sangat bahagia", duration: 4500 },
    { text: "Selalu tertawa, walau kini ku bertahan dengan air mata", duration: 5500 },
    { text: "Mendengar cerita, kau kini bahagia", duration: 4000 },
    { text: "Ku hanya bisa tersenyum mendengarnya", duration: 4000 },
    { text: "Memendam kecewa, kau senang di sana", duration: 4500 },
    { text: "Terima kasih…", duration: 5000 },
    { text: "♪ Instrumental ♪", duration: 3000 },
    { text: "Terima kasih...", duration: 3000 },
    { text: "♪ Instrumental ♪", duration: 3000 },
    { text: "Terima kasih...", duration: 5000 }
  ];

  let currentLyricIndex = 0;
  let lyricTimer = null;

  function updateLyrics() {
    const lyric = lyrics[currentLyricIndex];
    document.getElementById("lyricsBox").innerText = lyric.text;

    currentLyricIndex = (currentLyricIndex + 1) % lyrics.length;
    
    lyricTimer = setTimeout(updateLyrics, lyric.duration);
  }

  // LOGIKA IKON PLAY/PAUSE
  const playPath = "M6 18V6L18 12L6 18Z"; // Ikon Play (Segitiga)
  const pausePath = "M6 18H9V6H6V18ZM15 6V18H18V6H15Z"; // Ikon Pause (Dua Garis)

  // Kontrol Play/Pause
  playBtn.onclick = async () => {
    if (audioCtx.state === 'suspended') {
      await audioCtx.resume();
    }
    
    if (audio.paused) {
      audio.play();
      playBtn.classList.add("active");
      playIcon.innerHTML = `<path d="${pausePath}"/>`; // Ubah ke Ikon PAUSE
      draw(); 
      
      // LOGIKA LIRIK
      if (currentLyricIndex === 0 || lyricTimer === null) {
        updateLyrics();
      } else {
         clearTimeout(lyricTimer);
         updateLyrics(); 
      }
      
    } else {
      audio.pause();
      playBtn.classList.remove("active");
      playIcon.innerHTML = `<path d="${playPath}"/>`; // Ubah ke Ikon PLAY
      
      // HENTIKAN LIRIK SAAT PAUSE
      if (lyricTimer) {
        clearTimeout(lyricTimer);
        lyricTimer = null; 
      }
    }
  };
</script>
</body>
</html>
