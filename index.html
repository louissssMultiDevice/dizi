<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DIZI Music Official - Terima Kasih</title>
  <style>
    /* Menggunakan font dari Google Fonts */
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;800&display=swap');

    /* Variabel Warna (Tema Biru-Ungu) */
    :root {
      --color-primary: #3c0c7a; /* Ungu gelap untuk background */
      --color-secondary: #6a1a7a; /* Ungu lebih terang */
      --color-accent: #00bcd4; /* Biru terang/Cyan untuk highlight */
      --color-text-light: #f0f0f0;
      --color-text-dark: #333;
      --shadow-3d: 0 10px 20px rgba(0, 0, 0, 0.5), inset 0 0 10px rgba(255, 255, 255, 0.1);
    }

    /* Styling Body dan Container */
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      /* Background Biru-Ungu Gradien */
      background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
      color: var(--color-text-light);
      overflow: hidden;
      perspective: 1000px; /* Untuk efek 3D yang lebih baik */
    }

    .container {
      background: rgba(40, 0, 80, 0.8); /* Background semi-transparan */
      padding: 40px;
      border-radius: 20px;
      box-shadow: var(--shadow-3d);
      text-align: center;
      max-width: 90%;
      width: 400px;
      position: relative;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px); /* Efek kaca (Glassmorphism) */
      transform: rotateY(0deg); 
      transition: transform 0.5s ease-out;
    }

    .container:hover {
      transform: rotateY(5deg); /* Efek 3D kecil saat di-hover */
    }

    /* --- Logo DIZI 3D Metalik --- */
    .logo {
      font-size: 4em;
      font-weight: 800;
      margin: 0 0 5px 0;
      letter-spacing: 5px;
      /* Efek teks 3D Emas/Metalik */
      color: #ffd700; 
      text-shadow: 
        0 1px 0 #ccc,
        0 2px 0 #bbb,
        0 4px 0 #aaa,
        0 6px 1px rgba(0,0,0,.1),
        0 0 5px rgba(0,0,0,.1),
        0 3px 5px rgba(0,0,0,.2),
        0 10px 10px rgba(0,0,0,.2),
        0 20px 20px rgba(0,0,0,.15);
    }

    .subtitle {
      font-size: 1.1em;
      font-weight: 300;
      margin-bottom: 25px;
      color: var(--color-accent);
      text-shadow: 0 0 5px rgba(0, 188, 212, 0.8);
    }

    /* --- Visualizer Canggih --- */
    #visualizer {
      width: 100%;
      height: 150px;
      border-radius: 10px;
      background: rgba(0, 0, 0, 0.6);
      margin-bottom: 30px;
      /* Border dengan efek glow */
      box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.5), 0 0 15px var(--color-accent);
      border: 2px solid var(--color-accent);
    }

    /* --- Kontrol Tombol --- */
    .controls {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 30px;
    }

    .btn {
      background: var(--color-secondary);
      color: var(--color-text-light);
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 1.5em;
      cursor: pointer;
      transition: all 0.2s ease-in-out;
      /* Shadow tombol Neumorphism */
      box-shadow: 
        5px 5px 15px rgba(0, 0, 0, 0.5), 
        -5px -5px 15px rgba(255, 255, 255, 0.1); 
    }

    .btn:hover {
      background: var(--color-accent);
      color: var(--color-text-dark);
      transform: scale(1.05);
      box-shadow: 0 0 20px var(--color-accent);
    }

    .btn.play {
      width: 70px;
      height: 70px;
      /* Gradien untuk kesan glossy/metalik */
      background: linear-gradient(145deg, #00e5ff, var(--color-accent)); 
      /* Shadow yang lebih menonjol */
      box-shadow: 
        8px 8px 20px rgba(0, 0, 0, 0.6), 
        -8px -8px 20px rgba(255, 255, 255, 0.15),
        0 0 25px var(--color-accent); /* Glow */
    }

    /* Efek tombol Play/Pause ditekan (realistis) */
    .btn.play.active {
      /* Membalikkan shadow untuk efek "ditekan ke dalam" */
      box-shadow: 
        inset 5px 5px 10px rgba(0, 0, 0, 0.7),
        inset -5px -5px 10px rgba(255, 255, 255, 0.15),
        0 0 10px var(--color-accent); /* Glow lebih redup */
      transform: scale(0.98); /* Sedikit menyusut saat ditekan */
    }

    .btn.play:hover {
      transform: scale(1.1);
      box-shadow: 
        8px 8px 25px rgba(0, 0, 0, 0.7), 
        -8px -8px 25px rgba(255, 255, 255, 0.2),
        0 0 35px #00e5ff; 
    }
    
    /* --- Lirik Mengambang (Kotak Teks) --- */
    .lyrics-box {
      background: rgba(0, 0, 0, 0.7);
      color: var(--color-accent);
      padding: 15px 20px;
      border-radius: 10px;
      font-size: 1.2em;
      font-weight: 600;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-shadow: 0 0 8px rgba(0, 188, 212, 0.8);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5), inset 0 0 5px rgba(255, 255, 255, 0.1);
      /* Animasi pergerakan kecil */
      animation: pulse-lyrics 5s infinite alternate; 
    }

    @keyframes pulse-lyrics {
      0% { transform: scale(1); opacity: 0.9; }
      100% { transform: scale(1.01); opacity: 1; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="logo">DIZI</h1>
    <p class="subtitle">Grub Musik Official – “Terima Kasih”</p>

    <canvas id="visualizer" width="400" height="150"></canvas>

    <audio id="audio" src="./public/Terimakasih.mp3" preload="auto"></audio>

    <div class="controls">
      <button id="prev" class="btn" aria-label="Previous Track">⏮️</button>
      <button id="play" class="btn play" aria-label="Play/Pause">▶️</button>
      <button id="next" class="btn" aria-label="Next Track">⏭️</button>
    </div>

    <div id="lyricsBox" class="lyrics-box" aria-live="polite">
        “Sumpah, aku ingin bertemu kamu...”
    </div>
  </div>

<script type="module">
  // Pastikan browser mendukung AudioContext
  window.AudioContext = window.AudioContext || window.webkitAudioContext;
  
  const audio = document.getElementById("audio");
  const playBtn = document.getElementById("play");
  const canvas = document.getElementById("visualizer");
  const ctx = canvas.getContext("2d");
  
  // Menyesuaikan ukuran canvas
  canvas.width = canvas.offsetWidth;
  canvas.height = canvas.offsetHeight;

  const audioCtx = new AudioContext();
  const src = audioCtx.createMediaElementSource(audio);
  const analyser = audioCtx.createAnalyser();
  
  // Konfigurasi Analyser
  analyser.fftSize = 256;
  src.connect(analyser);
  analyser.connect(audioCtx.destination);
  

  const bufferLength = analyser.frequencyBinCount;
  const dataArray = new Uint8Array(bufferLength);

  // Fungsi Gambar Visualizer
  function draw() {
    requestAnimationFrame(draw);
    analyser.getByteFrequencyData(dataArray);
    
    // Clear canvas dengan sedikit transparansi untuk efek "trail"
    ctx.fillStyle = "rgba(40, 0, 80, 0.5)"; 
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    
    const barWidth = (canvas.width / bufferLength) * 2.5;
    let x = 0;
    
    for (let i = 0; i < bufferLength; i++) {
      const barHeight = dataArray[i] * 1.2;
      
      // Menggunakan warna gradien biru-ungu
      const hue = 260 + i * 1.2;
      ctx.fillStyle = `hsl(${hue}, 100%, 60%)`;
      
      ctx.fillRect(x, canvas.height - barHeight, barWidth, barHeight);
      x += barWidth + 1;
    }
  }

  // Kontrol Play/Pause
  playBtn.onclick = async () => {
    // Memastikan AudioContext dimulai saat interaksi pengguna
    if (audioCtx.state === 'suspended') {
      await audioCtx.resume();
    }
    
    if (audio.paused) {
      audio.play();
      playBtn.classList.add("active");
      playBtn.textContent = "⏸️";
      draw(); // Mulai visualizer
    } else {
      audio.pause();
      playBtn.classList.remove("active");
      playBtn.textContent = "▶️";
    }
  };

  // --- Lirik Bergerak / Floating Lyrics ---
  const lyrics = [
    "Sumpah, aku ingin bertemu kamu",
    "Ku ingin engkau ada di sampingku",
    "Ku ingin engkau tahu betapa rindunya hati kecilku",
    "Ku ingin engkau ada di setiap hari-hariku",
    "Kenapa? Mengapa? Oh kenapa? Mengapa begini?",
    "Perasaan rindu ini selalu menghampiri, uo-oo",
    "Selalu aku yang ada saat kau bercerita",
    "Mengapa kini kau pergi begitu saja? uoo-oooo",
    "Kenapa dia lagi dia lagi dia lagi yang aku cari?",
    "Kenapa dia lagi dia lagi yang aku cintai?",
    "Ku ingin bersamamu hingga nanti kita tua bersama",
    "Ku ingin kita bersama hingga selama-lamanya",
    "Semua indah pada waktunya",
    "Pada akhirnya Semua hanya angan-angan ku sajaaa",
    "kita takkan pernah bersama, uo-oo",
    "Sayangnya semua tak berjalan, sedangkan bertahan bukan satu pilihan",
    "Sayangnya mengapa kita berjumpa",
    "Padahal kita tak kan ke tujuan yang sama",
    "Pantaskah aku menyimpan rasa rindu yang begitu dalam?",
    "Lantas mengapa ku masih menunggumu hingga matahari tenggelam?",
    "Simpanlah kau dalam mimpi indahku",
    "Sebab kau tak datang dalam hidupku",
    "Lewatkah aku di sela pikiranmu?",
    "Aku rindu, sangat rindu, tapi tak bisa bertemu",
    "Terima kasih atas segala rasa",
    "Pada masa itu aku sangat bahagia",
    "Selalu tertawa, walau kini ku bertahan dengan air mata",
    "Mendengar cerita, kau kini bahagia",
    "Ku hanya bisa tersenyum mendengarnya",
    "Memendam kecewa, kau senang di sana",
    "Terima kasih…",
    "♪ Instrumental ♪",
    "Terima kasih...",
    "♪ Instrumental ♪",
    "Terima kasih..."
  ];
  
  let i = 0;
  // Interval lirik diubah menjadi 5 detik
  setInterval(() => {
    document.getElementById("lyricsBox").innerText = lyrics[i];
    i = (i + 1) % lyrics.length;
  }, 5000); 
</script>
</body>
</html>
